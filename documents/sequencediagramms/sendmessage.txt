title sending a message

participant Client
participant Websocket
participant Server
participant Database

Client->Websocket: send message
activate Client
activate Websocket
Websocket->Server: transfer message
deactivate Websocket
activate Server

Server->Database: get forbidden words
activate Database
Database-->Server: return forbidden words
deactivate Database

Server->Server: check for forbidden words
activate Server
space
deactivate Server

alt no forbidden words found

Server->Database: save message

activate Database
Database-->Websocket: saved succesfully
deactivate Database
activate Websocket
Websocket-->Client: 200 OK - message success
deactivate Websocket
else forbidden words found
Server-->Client: 406 not acceptable - message failed
end
space 
deactivate Client
deactivate Server
